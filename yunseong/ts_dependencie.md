# devDependencies 에 ts와 type추가 시키기

들어가기 전, 자바스크립트는 라이브러리 의존성 관리를 어떻게 하는지 살펴보자.

대표적인게 npm인데, package.json을 통해 프로젝트가 의존하고 있는 라이브러리들의 버전을 지정한다.

먼저 의존성은 다양한 의존성이 있다.

### dependencies

프로젝트를 실행하는데 필수적인 라이브러리들을 포함한다. 대게 react, react-dom등이 프로젝트가 실제로 수행될 때 필요한 라이브러리로 존재한다. 따라서 이는 dependencies로 관리한다.

### devDependencies

현재 프로젝트에 개발하거나 테스트할때는 필요하지만, 실제 프로덕션 레벨(런타임)에서는 필요없는 라이브러리들이 포함된다.

### peerDependencies

런타임에 필요하지만, 의존성을 직접 관리하지 않는 라이브러리들이 포함된다. 단적인 예로 플러그인 등이 있다.

peerDependencies에 정의하면 같은 라이브러리라도 선언한 패키지는 peerDependencies의 독립된 의존성을 가지게 된다.

즉, 실제로 패키지에서 require나 import 하지는 않지만, 특정 라이브러리나 툴에 호환성을 필요로 할 경우에 명시하는 dependencies다.

## 타입스크립트 세팅에서 고려해야할 사항

1. 타입스크립트 자체의 의존성에 대해 고려해야한다.

타입스크립트를 시스템 레벨로도 설치할 수 있지만, 추천하지는 않는다. 그 이유는, (npm install -g typescript)

- 팀원 모두가 동일한 버전을 설치한다는 보장이 없다.
- 플젝을 셋업할 때 별도의 단계가 추가된다.

따라서 타입스크립트는 개발 도구일 뿐이므로 런타임에 속하지 않기 때문에, 일반적으로 타입스크립트 관련 도구들은 대부분 devDependencies 에 속한다.

2. 타입 의존성을 고려해야 한다. (`@types`)

지금 이 글을 읽고 typescript 프로젝트에 react, react-dom만 쓰고 react를 짜보면 이상함을 느낄 것이다.

그 이유는 바로 react 관련된 타입선언이 없기 때문이다.

CRA나, 어떤 템플릿을 제공하는 툴로 만들면 `@types/react`가 의존성으로 따라 들어오는 것을 볼 수 있는데, 이는 DefinelyTyped 라는 TS 커뮤니티에서 타입 정보를 제공하기 때문이다.

DefinelyTyped의 타입 정의들은 npm 레지스트리에서 확인할 수 있다.

물론 구현체는 없고 타입 정보만 포함하고 있다.

위에서 말한 것과 더불어 원본 라이브러리 자체가 dependencies에 있더라도 `@types`의존성은 devDependencies에 있어야 한다.

만약 내가 자바스크립트 라이브러리를 사용하는데, 타입 import가 되지 않거나 에러가 발생한다면 알맞은 타입 의존성(`@types`)을 설치하자.
3
